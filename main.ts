scene.onOverlapTile(SpriteKind.Player, myTiles.tile2, function (sprite, location) {
    info.changeScoreBy(3)
    tiles.setTileAt(location, myTiles.tile3)
    music.jumpUp.play()
})
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.stairLadder, function (sprite, location) {
    vill = sprites.create(img`
        ........................
        ........................
        ........................
        ........................
        ........................
        ..........1111..........
        ........b111111.........
        ........11111111........
        .......d11111111d.......
        .......d11111111d.......
        .......ddd1111ddd.......
        .......bdbfddfbdb.......
        .......cdcf11fcdc.......
        ........b111111b........
        .........cdb1bd.........
        .....c111cb.b.c111c.....
        .....1b1b1....1b1b1.....
        .....b.b......b.b.b.....
        ........................
        ........................
        ........................
        ........................
        ........................
        ........................
        `, SpriteKind.Player)
    game.showLongText("Ye the ending!", DialogLayout.Bottom)
    music.playMelody("C5 B A G F E D C ", 120)
    tiles.setTilemap(tiles.createTilemap(hex`1000100004020202020202020306030202020302020302030303030203020302030303020203020308020202030203020201020202030203020303030302030303020203020302030202020202020203020202020202020202030303030302030203030203030303020302020703020202020302020207030203020302030202020203060203030302030203020302030303030301020202020202030303020302020202030303030203020201020203070302020202020202030303020302030303020203030203030307030203020202020208020302030203020302030303030303030202020202020303080202020202020203030202010302030203030303020205`, img`
        . . . . . . . . 2 . 2 . . . 2 . 
        . 2 . 2 2 2 2 . 2 . 2 . 2 2 2 . 
        . 2 . 2 . . . . 2 . 2 . . . . . 
        . 2 . 2 . 2 2 2 2 . 2 2 2 . . 2 
        . 2 . 2 . . . . . . . 2 . . . . 
        . . . . . 2 2 2 2 2 . 2 . 2 2 . 
        2 2 2 2 . 2 . . . 2 . . . . 2 . 
        . . . 2 . 2 . 2 . 2 . . . . 2 . 
        . 2 2 2 . 2 . 2 . 2 . 2 2 2 2 2 
        . . . . . . . 2 2 2 . 2 . . . . 
        2 2 2 2 . 2 . . . . . 2 . 2 . . 
        . . . . . 2 2 2 . 2 . 2 2 2 . . 
        2 2 . 2 2 2 . 2 . 2 . . . . . . 
        . 2 . 2 . 2 . 2 . 2 2 2 2 2 2 2 
        . . . . . . 2 2 . . . . . . . . 
        2 2 . . . 2 . 2 . 2 2 2 2 . . . 
        `, [myTiles.transparency16,myTiles.tile1,sprites.castle.tilePath5,sprites.builtin.forestTiles0,sprites.builtin.forestTiles8,sprites.dungeon.stairLarge,sprites.dungeon.collectibleBlueCrystal,sprites.dungeon.collectibleRedCrystal,sprites.dungeon.chestClosed], TileScale.Sixteen))
    scene.setBackgroundColor(13)
    tiles.placeOnRandomTile(mySprite, sprites.builtin.forestTiles8)
})
info.onCountdownEnd(function () {
    mySprite.destroy(effects.confetti, 500)
    music.playMelody("C5 A B G A F G E ", 489)
    game.showLongText("YOU SUCK!", DialogLayout.Bottom)
    game.over(false)
})
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.chestClosed, function (sprite, location) {
    info.changeScoreBy(5)
    tiles.setTileAt(location, myTiles.tile3)
    music.jumpUp.play()
})
scene.onOverlapTile(SpriteKind.Player, myTiles.tile1, function (sprite, location) {
    info.changeScoreBy(1)
    tiles.setTileAt(location, myTiles.tile3)
    music.baDing.play()
})
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.chestOpen, function (sprite, location) {
    info.changeScoreBy(4)
    tiles.setTileAt(location, myTiles.tile3)
    music.wawawawaa.play()
})
let vill: Sprite = null
let mySprite: Sprite = null
info.setScore(0)
mySprite = sprites.create(img`
    ........................
    ........................
    ........................
    ........................
    ........................
    ....d.........d.........
    ....dd.......dd.........
    ....ddd11111ddd.........
    .....d1111111d..........
    ......11f1f11...........
    ......11f1f11...........
    .......11111............
    .......11111............
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    ........................
    `, SpriteKind.Player)
controller.moveSprite(mySprite, 150, 150)
scene.setBackgroundColor(6)
tiles.setTilemap(tiles.createTilemap(hex`1000100002000000000000000000000000000501000000010101060101010101010101010100000000010000000000070000000101070000010101010101010001010001010101000101000400000100010100010000000001010001010001000101000101010100010107000000000001000001010101000106010101000101010000010101000001000000010001010100010101010001010001000100010000000101070000010100010001000100010001010001000101000108000001000000010100010001000001010101010001000101000100000001000000000000010701010001000101010001010101010101010105010101010100000000000000000003`, img`
    . . . . . . . . . . . . . . . 2 
    . . . 2 2 2 2 2 2 2 2 2 2 2 2 2 
    2 . . . . 2 . . . . . . . . . 2 
    2 . . . 2 2 2 2 2 2 2 . 2 2 . 2 
    2 2 2 . 2 2 . . . . 2 . 2 2 . 2 
    . . . . 2 2 . 2 2 . 2 . 2 2 . 2 
    2 2 2 . 2 2 . . . . . . 2 . . 2 
    2 2 2 . 2 2 2 2 2 . 2 2 2 . 2 2 
    2 2 . . 2 . . . 2 . 2 2 2 . 2 2 
    2 2 . 2 2 . 2 . 2 . 2 . . . 2 2 
    . . . 2 2 . 2 . 2 . 2 . 2 . 2 2 
    . 2 . 2 2 . 2 . . . 2 . . . 2 2 
    . 2 . 2 . . 2 2 2 2 2 . 2 . 2 2 
    . 2 . . . 2 . . . . . . 2 . 2 2 
    . 2 . 2 2 2 . 2 2 2 2 2 2 2 2 2 
    . 2 2 2 2 2 . . . . . . . . . . 
    `, [myTiles.transparency16,sprites.dungeon.darkGroundCenter,sprites.dungeon.collectibleRedCrystal,sprites.dungeon.stairLadder,sprites.dungeon.chestOpen,sprites.dungeon.chestClosed,sprites.dungeon.purpleSwitchDown,myTiles.tile1,myTiles.tile2], TileScale.Sixteen))
tiles.placeOnRandomTile(mySprite, sprites.dungeon.collectibleRedCrystal)
scene.cameraFollowSprite(mySprite)
info.startCountdown(35)
